#
# Example /etc/vac.conf file for Vac
#
# See http://www.gridpp.ac.uk/vac/ and the Vac Admin Guide in 
# /var/lib/vac/doc/ for more about Vac and how to use this file.
#
# You must replace domain names ending in .example.com in 
# vac_space and factories with the domain name of your own site.
#
# Andrew.McNab@cern.ch  January 2015
#

[settings]
# Name of this vac space. Should be a DNS-like name, and will be needed to
# when referring to this vac space as a virtual CE in other systems.
vac_space = pygrid-vac.hec.lancs.ac.uk

# A list of all the factory machines in this space. To add more factories,
# add them to the factories= line, separated by spaces. You can use '\' as the
# last character of a line to continue the factories= assignment. This option
# must include the fully qualified hostname of this factory machine itself.
factories = pygrid-vac00.hec.lancs.ac.uk pygrid-vac01.hec.lancs.ac.uk pygrid-vac02.hec.lancs.ac.uk 
            pygrid-vac03.hec.lancs.ac.uk pygrid-vac04.hec.lancs.ac.uk pygrid-vac05.hec.lancs.ac.uk
            pygrid-vac06.hec.lancs.ac.uk pygrid-vac07.hec.lancs.ac.uk pygrid-vac08.hec.lancs.ac.uk
            pygrid-vac09.hec.lancs.ac.uk pygrid-vac10.hec.lancs.ac.uk pygrid-vac11.hec.lancs.ac.uk
            pygrid-vac12.hec.lancs.ac.uk pygrid-vac13.hec.lancs.ac.uk pygrid-vac14.hec.lancs.ac.uk
            pygrid-vac15.hec.lancs.ac.uk pygrid-vac16.hec.lancs.ac.uk pygrid-vac17.hec.lancs.ac.uk
            pygrid-vac18.hec.lancs.ac.uk pygrid-vac19.hec.lancs.ac.uk pygrid-vac20.hec.lancs.ac.uk
            pygrid-vac21.hec.lancs.ac.uk pygrid-vac22.hec.lancs.ac.uk pygrid-vac23.hec.lancs.ac.uk
            pygrid-vac24.hec.lancs.ac.uk pygrid-vac25.hec.lancs.ac.uk

# MiB of memory allocated to each VM.
mb_per_machine = 2048

# total_machines allows you to say how many VMs Vac will manage.
# Vac will take the hostname of the factory to make the name of the VMs.
# On wn01.example.com, they will be wn01-00.example.com, 
# wn01-01.example.com, wn01-02.example.com, ...
total_machines = 6

# Setting this to zero disables the creation or use of logical volumes in
# vac_volume_group. For production, remove this option or set it to 
# something like 40
scratch_gb = 25
volume_group = VolGroup

[vmtype atlas]
vm_model = cernvm3
heartbeat_file = vm-heartbeat
heartbeat_seconds = 600
root_image = https://repo.gridpp.ac.uk/vacproject/atlas/cernvm3.iso
root_public_key = /root/.ssh/id_rsa.pub
#user_data = https://www.gridpp.ac.uk/vac/atlas/user_data
user_data = https://repo.gridpp.ac.uk/vacproject/atlas/user_data
user_data_option_queue = UKI-NORTHGRID-LANCS-HEP_VAC
user_data_option_cvmfs_proxy = http://pygrid-kraken.hec.lancs.ac.uk:3128
user_data_file_hostcert = /etc/vac.d/vm-cert.pem
user_data_file_hostkey = /etc/vac.d/vm-key.pem
user_data_option_default_se = fal-pygrid-30.lancs.ac.uk
user_data_option_http_logs = http://%f/
backoff_seconds = 600
fizzle_seconds = 600
max_wallclock_seconds = 172800
log_machineoutputs = True
accounting_fqan = /atlas/Role=NULL/Capability=NULL
target_share = 98

[vmtype lhcb]
vm_model = cernvm3
heartbeat_file = vm-heartbeat
heartbeat_seconds = 600
root_image = https://lhcbproject.web.cern.ch/lhcbproject/Operations/VM/cernvm3.iso
root_public_key = /root/.ssh/id_rsa.pub
user_data = https://lhcbproject.web.cern.ch/lhcbproject/Operations/VM/user_data
user_data_option_dirac_site = VAC.Lancaster.uk
user_data_option_cvmfs_proxy = http://pygrid-kraken.hec.lancs.ac.uk:3128 
user_data_file_hostcert = vm-cert.pem
user_data_file_hostkey = vm-key.pem
backoff_seconds = 600
fizzle_seconds = 600
max_wallclock_seconds = 172800
log_machineoutputs = True
accounting_fqan = /lhcb/Role=NULL/Capability=NULL
target_share = 1

[vmtype gridpp]
vm_model = cernvm3
heartbeat_file = vm-heartbeat
heartbeat_seconds = 600
root_image = https://repo.gridpp.ac.uk/vacproject/gridpp/cernvm3.iso
root_public_key = /root/.ssh/id_rsa.pub
user_data = https://repo.gridpp.ac.uk/vacproject/gridpp/user_data
user_data_option_dirac_site = VAC.Lancaster.uk
user_data_option_submit_pool = gridppPool
user_data_option_cvmfs_proxy = http://pygrid-kraken.hec.lancs.ac.uk:3128
user_data_file_hostcert = /etc/vac.d/vm-cert.pem
user_data_file_hostkey = /etc/vac.d/vm-key.pem
backoff_seconds = 600
fizzle_seconds = 600
max_wallclock_seconds = 172800
log_machineoutputs = True
accounting_fqan = /gridpp/Role=NULL/Capability=NULL
target_share = 1
